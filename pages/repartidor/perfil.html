<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f47b25">
  <title>Mi Perfil</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet">
  
  <style>
    :root { --primary: #f47b25; }
    body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; padding-bottom: 80px; }

    .topbar {
      background: linear-gradient(135deg, var(--primary), #d96a1a);
      color: white; padding: 15px 20px;
      display: flex; align-items: center; justify-content: center;
      position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(244,123,37,0.3);
    }

    .nav-tabs-custom {
      background: white; display: flex; justify-content: space-around;
      position: sticky; top: 60px; z-index: 90; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .nav-link-custom {
      flex: 1; text-align: center; padding: 12px; color: #6c757d; text-decoration: none;
      border-bottom: 3px solid transparent; font-size: 0.9rem; transition: all 0.3s;
    }
    .nav-link-custom i { display: block; font-size: 1.3rem; margin-bottom: 2px; }
    .nav-link-custom:hover { background-color: #fff5f0; color: var(--primary); }
    
    .nav-link-custom.active { 
        color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; 
    }

    .profile-header {
        background: white; padding: 30px 20px; text-align: center;
        border-bottom: 1px solid #eee; margin-bottom: 20px;
    }
    .avatar {
        width: 100px; height: 100px; background: #eee; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;
        font-size: 3rem; color: #ccc;
    }
  </style>
</head>
<body>

  <div class="topbar">
    <h2 class="mb-0 fs-5 fw-bold">Mi Perfil</h2>
  </div>

  <div class="nav-tabs-custom">
    <a href="/TiendaPWA-front/pages/repartidor/inicio.html" class="nav-link-custom">
        <i class="bi bi-signpost-2"></i> Ruta
    </a>
    <a href="/TiendaPWA-front/pages/repartidor/pedidos.html" class="nav-link-custom">
        <i class="bi bi-box-seam"></i> Paquetes
    </a>
    <a href="/TiendaPWA-front/pages/repartidor/perfil.html" class="nav-link-custom active">
        <i class="bi bi-person"></i> Perfil
    </a>
  </div>

  <div class="profile-header">
    <div class="avatar"><i class="bi bi-person-circle"></i></div>
    <h3 class="fw-bold mb-0" id="profile-name">Cargando...</h3>
    <p class="text-muted mb-0" id="profile-email">...</p>
    <span class="badge bg-warning text-dark mt-2">REPARTIDOR</span>
  </div>

  <div class="container px-4">
    <div class="card border-0 shadow-sm mb-3">
        <div class="card-body">
            <h6 class="fw-bold mb-3">Información del Sistema</h6>
            <p class="mb-2"><i class="bi bi-hash me-2 text-primary"></i> ID de Usuario: <span id="profile-id">...</span></p>
            <p class="mb-0"><i class="bi bi-shop me-2 text-primary"></i> Estado: <span class="text-success fw-bold">Activo</span></p>
        </div>
    </div>

    <button class="btn btn-outline-danger w-100 py-3 fw-bold mt-3" onclick="logout()">
        <i class="bi bi-box-arrow-right me-2"></i> CERRAR SESIÓN
    </button>
  </div>

  <script>
    function loadProfile() {
        const name = localStorage.getItem('user_name');
        const email = localStorage.getItem('user_email');
        const id = localStorage.getItem('user_id');

        if (!id) window.location.href = '/TiendaPWA-front/login.html';

        document.getElementById('profile-name').textContent = name || 'Usuario';
        document.getElementById('profile-email').textContent = email || '';
        document.getElementById('profile-id').textContent = id;
    }

    function logout() {
        localStorage.clear();
        window.location.href = '/TiendaPWA-front/login.html';
    }

    loadProfile();
  </script>
</body>
</html>